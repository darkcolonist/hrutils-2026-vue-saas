import{a as d,g as c,j as t,d as u}from"./app-DzK1gbCK.js";import{A as g}from"./ArrayOfObjectsTable-leWHgasa.js";import{A as f}from"./AxiosWrapper-D0Xio5Ph.js";import{R as s}from"./RealtimeTimestamp-CVUy6-7M.js";import{m as _}from"./moment-DLzRzeJX.js";import{r as h,a as v}from"./createSvgIcon-BjYjlfVC.js";import{d as x}from"./Suggestions-D5ahUr6s.js";import{L as y}from"./Link-DnqJQcma.js";import"./String-Db2qaVrC.js";import"./Divider-CcjRHbHI.js";import"./createTheme-C3PDnj56.js";import"./styled-DmLGLTNf.js";import"./dividerClasses-C-FM_ymL.js";import"./Typography-B65R2bHg.js";import"./extendSxProp-CxCUejmT.js";import"./Paper-DU_MpVWS.js";import"./Box-D6Lgme0E.js";import"./TableCell-CRwELvg7.js";import"./JsonView-DB6OvlW2.js";/* empty css             */import"./useTheme-BadDaQPl.js";import"./emotion-react.browser.esm-DYW1Qt72.js";import"./createSvgIcon-DGBPCsNV.js";import"./SvgIcon-B2duuu6b.js";import"./useControlled-CZPCSLIs.js";import"./useIsFocusVisible-Bb7ccel6.js";import"./Number-BwsWdfFc.js";import"./index-BwqtTtay.js";import"./utils-Dtlv9x_c.js";import"./inheritsLoose-B8YXPC31.js";import"./index-CvodmsZY.js";import"./TransitionGroupContext-Mvz6PzCh.js";import"./ButtonBase-CN_vy0sz.js";import"./assertThisInitialized-B9jnkVVz.js";import"./Stack-B9u6xylV.js";import"./Button-Cp_uUmXX.js";var n={},p;function j(){if(p)return n;p=1;var i=h();Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(v()),m=d(),o=(0,e.default)((0,m.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");return n.default=o,n}var b=j();const R=c(b),L={},D=i=>i.map((e,m)=>{const o={};for(const l in e)o[l.toLowerCase()]=e[l];e=o;const a=`${e.first_name||"N/A"} ${e.last_name||""}`.trim(),r={...e,"#":m+1,name:t.jsxs(t.Fragment,{children:[e.employment_status!=="active"?t.jsx(R,{color:"warning",fontSize:"small"}):null," ",a]}),company_email:t.jsx(y,{component:u,href:route("background.check",{keyword:x(e)}),children:e.company_email}),receivable:(e.total_loan_amount-e.loan_amount).toLocaleString("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}),maturity:_(e.date_applied).add(e.loan_period,"months").format("YYYY-MM-DD"),employment_status:e.employment_status==="active"?"employed":t.jsxs(t.Fragment,{children:["resigned"," ",t.jsx(s,{children:e.resignation_date})]})};return delete r.first_name,delete r.last_name,delete r.total_loan_amount,delete r.loan_amount,delete r.balance,delete r.amount_per_cut_off,delete r.is_paid,delete r.loan_period,delete r.type,delete r.status,r});function se(){return t.jsx(f,{method:"get",routeName:"background.ongoing.loans",after:i=>{const e=D(i),o=i.filter(a=>a.employment_status==="active").reduce((a,r)=>a+(parseFloat(r.amount_per_cut_off)||0),0).toLocaleString("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2});return t.jsx(g,{defaults:L,getRowProps:(a,r)=>({sx:a.resignation_date!==null?{backgroundColor:"#300000"}:{}}),name:t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Ongoing Loans"}),t.jsx("br",{}),t.jsx("small",{title:"receivables this coming cut-off",children:o})]}),lines:e,customizations:{"#":{align:"right"},name:{},company_email:{},employment_status:{},date_applied:{header:"Applied",render:a=>t.jsx(s,{children:a}),align:"right"},date_approved:{header:"Approved",render:a=>t.jsx(s,{children:a}),align:"right"},maturity:{render:a=>t.jsx(s,{children:a}),align:"right"},receivable:{align:"right"},resignation_date:{header:"Resigned at",hidden:!0}}})}})}export{se as default};
