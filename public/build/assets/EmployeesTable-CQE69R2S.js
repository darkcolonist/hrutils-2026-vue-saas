const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DataGrid-Ct8-RfU8.js","assets/app-DzK1gbCK.js","assets/app-BpgfMZXd.css","assets/URLHelper-DfFeXJAv.js","assets/createSvgIcon-BjYjlfVC.js","assets/createSvgIcon-DGBPCsNV.js","assets/createTheme-C3PDnj56.js","assets/SvgIcon-B2duuu6b.js","assets/styled-DmLGLTNf.js","assets/useControlled-CZPCSLIs.js","assets/useIsFocusVisible-Bb7ccel6.js","assets/Grid-rlWhB2C7.js","assets/useTheme-BadDaQPl.js","assets/extendSxProp-CxCUejmT.js","assets/Box-D6Lgme0E.js","assets/TextField-C38XhjyE.js","assets/Select-BOoN7lT6.js","assets/index-BwqtTtay.js","assets/Portal-BKL6eDyi.js","assets/index-CvodmsZY.js","assets/MenuList-C_GV7b5X.js","assets/utils-Dtlv9x_c.js","assets/inheritsLoose-B8YXPC31.js","assets/TransitionGroupContext-Mvz6PzCh.js","assets/Modal-CwkGqN9h.js","assets/Paper-DU_MpVWS.js","assets/emotion-react.browser.esm-DYW1Qt72.js","assets/GridToolbarContainer-KKDNkxa1.js","assets/GridToolbarExport-BqwZSXrv.js","assets/Popper-BLoNF7VC.js","assets/createPopper-D0FOOgzE.js","assets/ClickAwayListener-B1ytD3lO.js","assets/MenuItem-D1-21KgJ.js","assets/ButtonBase-CN_vy0sz.js","assets/assertThisInitialized-B9jnkVVz.js","assets/listItemTextClasses-CudY3Ac7.js","assets/dividerClasses-C-FM_ymL.js","assets/Stack-B9u6xylV.js","assets/DataGrid-czz8VQ4C.js","assets/toPropertyKey-BO3vai8f.js","assets/Autocomplete-BDCsttB-.js","assets/Close-BimXVjFC.js","assets/usePreviousProps-D5vB_2V6.js","assets/Chip-BQuyeMq3.js","assets/IconButton-Q7EIC3YM.js","assets/Badge-BachXXc0.js","assets/Divider-CcjRHbHI.js","assets/ListItemText-CwLD37jo.js","assets/Typography-B65R2bHg.js","assets/Button-Cp_uUmXX.js","assets/TableCell-CRwELvg7.js","assets/CircularProgress-_e0O5_dq.js"])))=>i.map(i=>d[i]);
import{q as u,j as r,R as d,_}from"./app-DzK1gbCK.js";import{H as c,A as m}from"./ArrayOfObjectsTable-leWHgasa.js";import{A as p}from"./AxiosWrapper-D0Xio5Ph.js";import{C as y}from"./CustomDialog-DqlvYqbB.js";/* empty css             */import{R as h}from"./RealtimeTimestamp-CVUy6-7M.js";import{f as x}from"./Number-BwsWdfFc.js";import{m as s}from"./moment-DLzRzeJX.js";import{S as f}from"./Stack-B9u6xylV.js";import{A as b}from"./Avatar-B86caYYU.js";import{T as j}from"./Typography-B65R2bHg.js";import{G as w}from"./GridToolbarContainer-KKDNkxa1.js";import{p as v}from"./GridToolbarExport-BqwZSXrv.js";import{B as N}from"./Box-D6Lgme0E.js";import"./String-Db2qaVrC.js";import"./Divider-CcjRHbHI.js";import"./createTheme-C3PDnj56.js";import"./styled-DmLGLTNf.js";import"./dividerClasses-C-FM_ymL.js";import"./Paper-DU_MpVWS.js";import"./TableCell-CRwELvg7.js";import"./JsonView-DB6OvlW2.js";import"./useTheme-BadDaQPl.js";import"./emotion-react.browser.esm-DYW1Qt72.js";import"./DialogContent-FO_bFTgm.js";import"./Modal-CwkGqN9h.js";import"./createSvgIcon-DGBPCsNV.js";import"./SvgIcon-B2duuu6b.js";import"./Portal-BKL6eDyi.js";import"./index-CvodmsZY.js";import"./utils-Dtlv9x_c.js";import"./inheritsLoose-B8YXPC31.js";import"./TransitionGroupContext-Mvz6PzCh.js";import"./DialogTitle-BjIhsvYH.js";import"./Button-Cp_uUmXX.js";import"./ButtonBase-CN_vy0sz.js";import"./assertThisInitialized-B9jnkVVz.js";import"./useIsFocusVisible-Bb7ccel6.js";import"./extendSxProp-CxCUejmT.js";import"./MenuList-C_GV7b5X.js";import"./index-BwqtTtay.js";import"./Popper-BLoNF7VC.js";import"./createPopper-D0FOOgzE.js";import"./ClickAwayListener-B1ytD3lO.js";import"./MenuItem-D1-21KgJ.js";import"./listItemTextClasses-CudY3Ac7.js";const T=d.lazy(()=>_(()=>import("./DataGrid-Ct8-RfU8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))),l=a=>x(a,2);function n({...a}){return r.jsx(c,{component:N,hidden:!0,timeout:3e3,children:a.children})}function C(){return r.jsx(w,{children:r.jsx(v,{})})}function A(a){return r.jsx(p,{method:"get",routeName:"attendance.leaves",params:{employeeCompanyEmail:a.row.company_email},after:i=>r.jsx(m,{name:"leaves",lines:i.map(e=>({...e,days:(()=>{const o=e.is_halfday?.5:JSON.parse(e.original_dates).length,t=JSON.parse(e.original_dates).map(g=>s(g).format("dddd, MMMM D, YYYY"));return{display:o,original_dates:t,is_paid:e.is_with_pay}})(),reason:e.reason||JSON.parse(e.original_dates).join(", ")})),customizations:{days_ago:{hidden:!0},is_halfday:{hidden:!0},is_with_pay:{hidden:!0},original_dates:{hidden:!0},date:{header:"Date",render:e=>r.jsx(h,{children:e}),align:"right"},days:{header:"Days",render:e=>r.jsx("span",{title:e.original_dates.join(`
`),style:{fontFamily:"monospace"},children:e.is_paid?r.jsx("span",{style:{backgroundColor:"#90EE90",color:"#121212",fontWeight:"bold",borderRadius:"4px",padding:"0 4px"},children:e.display}):r.jsx("span",{children:e.display})}),align:"right"},reason:{header:"Reason"},category:{header:"Type"}}})})}function E(a){return r.jsx(p,{method:"get",routeName:"attendance.leaves.report",params:{employeeCompanyEmail:a.row.company_email},after:i=>r.jsx(d.Fragment,{children:r.jsx(m,{name:"report",customizations:{from:{},to:{},total_leaves:{align:"right",render:e=>Number(e).toFixed(1)},paid_leaves:{align:"right",render:e=>Number(e).toFixed(1)}},lines:(()=>{const e=i.report;return e.push({from:"",to:"Grand Total",total_leaves:i.total_summary.total_leaves,paid_leaves:i.total_summary.paid_leaves}),e})()})})})}function R(a){return r.jsx(y,{buttonLabel:a.value,dialogTitle:`${a.row.first_name.split(" ")[0]}'s leaves history`,dialogContent:r.jsxs(f,{spacing:1,children:[E(a),A(a)]})})}function we({...a}){const{result:i,formats:e}=u().props,o=[{field:"id",headerName:"ID",width:125,sortable:!1},{field:"fullName",width:250,headerName:"Employee",valueGetter:t=>`${t.row.last_name}, ${t.row.first_name}`,sortable:!1,renderCell:t=>r.jsxs(f,{direction:"row",alignItems:"center",spacing:1,children:[r.jsx(b,{src:t.row.avatar,sx:{width:24,height:24}}),r.jsxs(j,{children:[t.row.first_name.split(" ")[0]," ",t.row.last_name]})]})},{field:"hired_date",headerName:"Hired",width:100,sortable:!1},{field:"tenureship",headerName:"Tenureship",width:100,sortable:!1,valueGetter:t=>s().diff(s(t.row.hired_date),"days"),renderCell:t=>r.jsx(h,{titleDisplayFormat:e.dates.front_end_moment_human_date,removeSuffix:!0,children:t.row.hired_date})},{field:"position",headerName:"Position",width:125,sortable:!1},{field:"job_title",headerName:"Job Title",width:150,sortable:!1},{field:"current_salary",headerName:"Salary",width:100,sortable:!1,renderCell:t=>r.jsx(n,{children:l(t.value)}),align:"right",headerAlign:"right"},{field:"base_salary",headerName:"Base Salary",width:100,sortable:!1,renderCell:t=>r.jsx(n,{children:l(t.value)}),align:"right",headerAlign:"right"},{field:"total_leaves",headerName:"Leaves",width:100,align:"right",headerAlign:"right",renderCell:R},{field:"total_paid_leaves",headerName:"Paid Leaves",width:100,align:"right",headerAlign:"right"}];return r.jsx(T,{rows:i.list,columns:o,rowCount:i.total,pageSizeOptions:[i.perPage],slots:{toolbar:C}})}export{we as default};
