import{a as f,g as x,j as r,R as u,W as g}from"./app-DzK1gbCK.js";import{R as l}from"./RealtimeTimestamp-CVUy6-7M.js";import{r as v,a as j}from"./createSvgIcon-BjYjlfVC.js";import{D as w}from"./DeleteButton-lmDd82Ck.js";import{f as y}from"./Number-BwsWdfFc.js";import{C as b}from"./CustomDialog-DqlvYqbB.js";import{C as D}from"./JsonView-DB6OvlW2.js";import{D as N}from"./DataGrid-czz8VQ4C.js";import{A as q}from"./Avatar-B86caYYU.js";import{I as R}from"./IconButton-Q7EIC3YM.js";import{T as p}from"./Typography-B65R2bHg.js";import{B as I}from"./Box-D6Lgme0E.js";import"./moment-DLzRzeJX.js";import"./createSvgIcon-DGBPCsNV.js";import"./createTheme-C3PDnj56.js";import"./SvgIcon-B2duuu6b.js";import"./styled-DmLGLTNf.js";import"./useControlled-CZPCSLIs.js";import"./useIsFocusVisible-Bb7ccel6.js";import"./Delete-SOQkke_0.js";import"./DialogContent-FO_bFTgm.js";import"./useTheme-BadDaQPl.js";import"./Paper-DU_MpVWS.js";import"./Modal-CwkGqN9h.js";import"./Portal-BKL6eDyi.js";import"./index-CvodmsZY.js";import"./utils-Dtlv9x_c.js";import"./inheritsLoose-B8YXPC31.js";import"./TransitionGroupContext-Mvz6PzCh.js";import"./DialogTitle-BjIhsvYH.js";import"./Button-Cp_uUmXX.js";import"./ButtonBase-CN_vy0sz.js";import"./assertThisInitialized-B9jnkVVz.js";import"./emotion-react.browser.esm-DYW1Qt72.js";/* empty css             */import"./toPropertyKey-BO3vai8f.js";import"./GridToolbarExport-BqwZSXrv.js";import"./MenuList-C_GV7b5X.js";import"./index-BwqtTtay.js";import"./Popper-BLoNF7VC.js";import"./createPopper-D0FOOgzE.js";import"./ClickAwayListener-B1ytD3lO.js";import"./MenuItem-D1-21KgJ.js";import"./listItemTextClasses-CudY3Ac7.js";import"./dividerClasses-C-FM_ymL.js";import"./Select-BOoN7lT6.js";import"./Autocomplete-BDCsttB-.js";import"./Close-BimXVjFC.js";import"./usePreviousProps-D5vB_2V6.js";import"./Chip-BQuyeMq3.js";import"./Stack-B9u6xylV.js";import"./extendSxProp-CxCUejmT.js";import"./Badge-BachXXc0.js";import"./Divider-CcjRHbHI.js";import"./ListItemText-CwLD37jo.js";import"./TextField-C38XhjyE.js";import"./TableCell-CRwELvg7.js";import"./CircularProgress-_e0O5_dq.js";var s={},c;function T(){if(c)return s;c=1;var e=v();Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=e(j()),o=f(),t=(0,i.default)((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");return s.default=t,s}var L=T();const B=x(L);var n={},h;function E(){if(h)return n;h=1;var e=v();Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e(j()),o=f(),t=(0,i.default)((0,o.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"}),"Report");return n.default=t,n}var S=E();const M=x(S),_=({children:e,decimals:i=0,codeStyle:o={},...t})=>{const m={...{color:"green",backgroundColor:"#181818",border:"1px solid darkgreen",padding:"1px 4px",borderRadius:"10px"},...o};return r.jsx("code",{style:m,title:e,children:y(e,i)})},d={headerAlign:"right",align:"right",renderCell:e=>r.jsx(_,{children:e.value})},A=({cacheObject:e,...i})=>{if(!e||!e.last_error)return;const o=r.jsxs(I,{children:[r.jsxs(p,{variant:"body2",children:["logged ",r.jsx(l,{children:e.errored_at})]}),r.jsx(D,{src:e.last_error})]}),t=`an error occured during warmup for ${e.id}`;return r.jsx(b,{buttonLabel:r.jsx(R,{title:t,color:"warning",children:r.jsx(M,{})}),dialogContent:o,dialogTitle:t})},F=({cacheKey:e,...i})=>{const{patch:o}=g(),[t,a]=u.useState(!1),m=async C=>{a(!0),await o(route("dev.cache.patch",{cacheKey:C}),{onFinish:()=>{a(!1)}})};return r.jsx(R,{onClick:()=>m(e),disabled:t,title:`force fetch new updates for ${e}`,color:"warning",...i,children:r.jsx(B,{})})},z=({cacheKey:e,...i})=>{const{delete:o}=g(),t=a=>{o(route("dev.cache.destroy",{cacheKey:a}))};return r.jsx(w,{confirmMessage:r.jsxs(u.Fragment,{children:[r.jsx(p,{paragraph:!0,children:"This will remove the cache forcing the next visit to be loaded freshly."}),r.jsxs(p,{paragraph:!0,children:["Proceed to forget ",r.jsx("code",{children:e}),"?"]})]}),confirmTitle:`Forget ${e}`,customAction:()=>t(e),isIconButton:!0,children:"Forget"})},P=e=>r.jsxs(u.Fragment,{children:[r.jsx(F,{cacheKey:e.id}),r.jsx(z,{cacheKey:e.id}),r.jsx(A,{cacheObject:e.row})]});function He({rows:e,...i}){const o=[{field:"id",headerName:"Key",width:250},{field:"ttl",headerName:"TTL (sec)",width:50,...d},{field:"warm_up_every",headerName:"Every (sec)",width:50,...d},{field:"last_warmed_at",headerName:"Last Warmed At",renderCell:t=>r.jsx(l,{children:t.value}),width:150},{field:"last_ping",headerName:"Last Ping",renderCell:t=>r.jsx(l,{children:t.value}),width:150},{field:"execution_time",headerName:"Execution Time (sec)",...d,renderCell:t=>r.jsx(_,{decimals:2,children:t.value})},{field:"last_ping_by",headerName:"Who",width:50,renderCell:t=>r.jsx(q,{src:t.row.last_ping_by_avatar,sx:{width:24,height:24},title:`last visit by ${t.value}`})},{field:"expires",headerName:"Expires",renderCell:t=>r.jsx(l,{children:t.value}),width:75},{field:"total_pings",headerName:"Pings",width:50,...d},{field:"actions",headerName:"",renderCell:P,width:150}];return r.jsx(N,{rows:e,columns:o,rowCount:e.length,pageSizeOptions:[e.length],disableColumnMenu:!0,autoHeight:!0})}export{He as default};
